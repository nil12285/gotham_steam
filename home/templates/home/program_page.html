{% extends "base.html" %}
{% load wagtailcore_tags static wagtailimages_tags %}

{% block body_class %}template-programpage{% endblock %}

{% block content %}
    <div class="container py-4 mt-2">
        
        <div class="row align-items-start mb-2">
            <div class="col-md-7 col-12">
                <nav aria-label="breadcrumb">
                    <ol class="breadcrumb">
                        <li class="breadcrumb-item"><a href="/">Home</a></li>
                        <li class="breadcrumb-item"><a href="{% pageurl page.get_parent %}">Programs</a></li>
                        <li class="breadcrumb-item active" aria-current="page">{{ page.title }}</li>
                    </ol>
                </nav>
                <h1 class="display-4 text-dark-blue display-title text-uppercase mb-0">{{ page.title }}</h1>
                <p class="h5 text-secondary mb-3">{{ page.city }}, {{ page.state }}</p>
                
                <div class="contact-section d-block d-md-none mt-3 mb-4">
                    {% include "home/blocks/program_contact_block.html" %}
                </div>
            </div>

            <div class="col-md-5 d-none d-md-block text-center pt-4">
                {% if page.logo_image %}
                    {% image page.logo_image width-400 as logo_img %}
                    <img src="{{ logo_img.url }}" alt="{{ logo_img.title }}" class="img-fluid" style="max-height: 100px;">
                {% endif %}
            </div>
        </div>

        
        <div class="row g-5">
            
            <div class="col-12 col-md-6 order-2 order-md-1">
                <div class="contact-section d-none d-md-block mb-5">
                    {% include "home/blocks/program_contact_block.html" %}
                </div>

                <h2 class="display-5 text-dark-blue overview-title mb-4">Overview</h2>
                <div class="text-secondary rich-text-content">
                    {{ page.program_overview|richtext }}
                    
                    {% if page.staff_details %}
                        <div class="mt-5 border-top pt-4">
                            <h3 class="h4 text-dark-blue fw-bold mb-3 text-uppercase">Staff Details</h3>
                            {{ page.staff_details|linebreaks }}
                        </div>
                    {% endif %}
                </div>
            </div>

            
            <div class="col-12 col-md-6 order-1 order-md-2">
                <div class="sticky-sidebar-container sticky-top">
                    <div class="card border-0 rounded-0 p-4 shadow-sm" style="background-color: #E2E4E9;">
                        <h2 class="h5 fw-bold mb-4 text-dark-blue text-center text-uppercase" style="letter-spacing: 1px;">Essential Information</h2>
                        
                        <div class="essential-grid px-2">
                            {% for label, data in essential_info.items %}
                                {% if data.value and data.value != "N/A" %}
                                    <div class="row">
                                        <div class="col-6 text-medium-purple small text-uppercase fw-bold">{{label|title}}</div>
                                        <div class="col-6 text-dark-blue small">{{data.value}}</div>
                                    </div>
                                {% endif %}
                            {% endfor %}
                        </div>
                    </div>
                </div>
            </div>
        </div>
    </div>
{% endblock content %}