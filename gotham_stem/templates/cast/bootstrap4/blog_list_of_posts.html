{% extends "base.html" %}
{% load wagtailcore_tags %}
{% load crispy_forms_tags %}
{% load static %}
{% load django_vite %}

{% block body_class %}template-bloglistpage{% endblock %}

{% block meta %}
  {{ block.super }}
  {% if blog.noindex %}
    <meta name="robots" content="noindex">
  {% endif %}
  <link rel="canonical" href="{{ canonical_url }}">
{% endblock %}

{% block extra_css %}
<style>
</style>
{% endblock %}

{% block content %}
<section class="hero-section py-md-2 text-white bg-medium-purple">
  <div class="container py-md-2">
    <div class="row">
      <div class="col-lg-8">
        <h1 class="display-4 text-dark-blue fw-bold mb-4">{{ page.title }}</h1>
        <div class="lead fs-4">
          {{ page.description|richtext }}
        </div>
      </div>
    </div>
  </div>
</section>
<section class="posts-section py-5">
  <div class="container">
    
    <div class="row mb-5 justify-content-end">
      <div class="col-md-4 col-lg-3">
        <form action="" method="get" class="input-group border-bottom border-dark-purple">
          <span class="input-group-text bg-transparent border-0 text-dark-purple">
            <i class="bi bi-search"></i> </span>
          <input type="text" name="search" class="form-control bg-transparent border-0 text-dark-purple placeholder-light-purple" placeholder="search by topic">
        </form>
      </div>
    </div>

    <main class="row g-4">
      {% for post in posts %}
        <div class="col-12 col-md-6 col-lg-4 px-md-5 mb-md-5">
          {% include "./article_card.html" with post=post display_description=True %}
        </div>
      {% endfor %}
    </main>

    <footer class="mt-5 d-flex justify-content-center">
      {% include "./pagination.html" %}
    </footer>
  </div>
</section>

{% endblock content %}


{% block javascript %}
  {{ block.super }}
  {% vite_hmr_client app="cast" %}
  {% vite_asset 'src/gallery/image-gallery-bs4.ts' app="cast" %}
  {% vite_asset 'src/audio/podlove-player.ts' app="cast" %}
{% endblock javascript %}