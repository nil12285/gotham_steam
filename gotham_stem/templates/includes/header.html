{% load static wagtailcore_tags %}

<header class="sticky-top shadow-sm" style="background-color: #647596;">
    
    {# Top Banner for Signup - FULL WIDTH BACKGROUND #}
    <div class="bg-dark-blue text-white p-2 small text-center">
        OPPORTUNITIES, IDEAS & EVENTS IN YOUR INBOX? <a href="#" class="text-white fw-bold text-decoration-none border-bottom border-white">SIGNUP</a>
    </div>

    {# Main Navigation Bar - FULL WIDTH BACKGROUND #}
    <nav class="navbar navbar-expand-lg py-3 bg-light-purple">
        <div class="container-fluid">
            
            {# Logo/Brand #}
            <a class="navbar-brand text-white fw-bold" href="/" style="color: white;">
                {# Using a placeholder image with the correct color scheme #}
                <img height="50px" width="180px" src="{% static 'images/logo.png' %}" alt="Gotham STEM Logo" style="height: 30px;" class="me-2">
                <div class="opacity-75" style="font-size: 0.310em;">NYC'S ESSENTIAL GUIDE TO STEM ACTIVITIES & EDUCATION</div>
            </a>
            
            {# Toggle for Mobile #}
            <button class="navbar-toggler" type="button" data-bs-toggle="collapse" data-bs-target="#navbarNav" aria-controls="navbarNav" aria-expanded="false" aria-label="Toggle navigation">
                <span class="navbar-toggler-icon"></span>
            </button>
            
            {# Navigation Links #}
            <div class="collapse navbar-collapse justify-content-end" id="navbarNav">
                <ul class="navbar-nav me-auto me-lg-0">
                    {# Fetching top-level pages for the navigation bar #}
                    {% with top_level_pages=page.get_site.root_page.get_children.live.in_menu %}
                        {% for menu_page in top_level_pages %}
                            <li class="nav-item">
                                <a class="nav-link text-white px-3" href="{% pageurl menu_page %}">{{ menu_page.title }}</a>
                            </li>
                        {% endfor %}
                    {% endwith %}

                    {# Hardcoded links based on common project structure and Mockup #}
                    <li class="nav-item">
                        <a class="nav-link text-white px-3" href="/programs/">Opportunities</a>
                    </li>
                    <li class="nav-item">
                        <a class="nav-link text-white px-3" href="/contact-us/">Contact</a>
                    </li>

                    <li class="nav-item d-flex align-items-center ms-3">
                         <a class="nav-link text-white" href="/programs/"><i class="bi bi-search"></i></a>
                    </li>
                </ul>
            </div>
        </div>
    </nav>
</header>